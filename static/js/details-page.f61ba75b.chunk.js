"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[187],{75:function(e,t,n){var r=n(263);r.Z.defaults.baseURL="https://api.themoviedb.org/3",t.Z={fetchTrendingMovies:function(){return r.Z.get("/trending/all/day?api_key=f62fd78ab53293f9591bba159f0c9694").then((function(e){return e.data.results}))},fetchSearchMovies:function(e){var t=e.searchQuery,n=void 0===t?"":t,a=e.currentPage,i=void 0===a?1:a;return r.Z.get("/search/multi?api_key=f62fd78ab53293f9591bba159f0c9694&page=".concat(i,"&query=").concat(n)).then((function(e){return e.data.results}))},fetchDetailsMovie:function(e){return r.Z.get("/movie/".concat(e,"?api_key=f62fd78ab53293f9591bba159f0c9694")).then((function(e){return e.data}))},fetchCastMovie:function(e){return r.Z.get("/movie/".concat(e,"/credits?api_key=f62fd78ab53293f9591bba159f0c9694")).then((function(e){return e.data.cast}))},fetchReviewsMovie:function(e){return r.Z.get("/movie/".concat(e,"/reviews?api_key=f62fd78ab53293f9591bba159f0c9694")).then((function(e){return e.data.results}))}}},235:function(e,t,n){var r=n(683),a=(n(791),n(689)),i=n(184);t.Z=function(e){return function(t){var n=(0,a.TH)(),s=(0,a.s0)(),c=(0,a.UO)();return(0,i.jsx)(e,(0,r.Z)((0,r.Z)({},t),{},{router:{location:n,navigate:s,params:c}}))}}},922:function(e,t,n){n.r(t),n.d(t,{default:function(){return k}});var r=n(683),a=n(671),i=n(144),s=n(136),c=n(104),o=n(791),l=n(87),u=n(689),h=n(235),d=n(75),f=n(433),v=n(184),p=function(e){(0,s.Z)(n,e);var t=(0,c.Z)(n);function n(){var e;(0,a.Z)(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).state={cast:[]},e}return(0,i.Z)(n,[{key:"componentDidMount",value:function(){var e=this;d.Z.fetchCastMovie(this.props.router.params.movieId).then((function(t){return e.setState({cast:(0,f.Z)(t)})}))}},{key:"render",value:function(){var e=this.state.cast;return(0,v.jsx)("div",{className:"castMovie",children:(0,v.jsx)("ul",{children:e.map((function(e){return(0,v.jsxs)("li",{children:[(0,v.jsx)("img",{src:"https://image.tmdb.org/t/p/original".concat(e.profile_path),alt:e.name}),(0,v.jsxs)("p",{children:["Actor name: ",e.name]}),(0,v.jsxs)("p",{children:["Character of: ",e.character]})]},e.name)}))})})}}]),n}(o.Component),m=(0,h.Z)(p),x=function(e){(0,s.Z)(n,e);var t=(0,c.Z)(n);function n(){var e;(0,a.Z)(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).state={reviews:[]},e}return(0,i.Z)(n,[{key:"componentDidMount",value:function(){var e=this;d.Z.fetchReviewsMovie(this.props.router.params.movieId).then((function(t){return e.setState({reviews:(0,f.Z)(t)})}))}},{key:"render",value:function(){console.log(this.state.reviews);var e=this.state.reviews;return(0,v.jsx)("div",{children:e.length>0?(0,v.jsx)("ul",{children:e.map((function(e){return(0,v.jsxs)("li",{children:[(0,v.jsxs)("h4",{children:[e.author,":"]})," ",(0,v.jsx)("p",{children:e.content})]},e.id)}))}):(0,v.jsx)("ul",{children:(0,v.jsx)("li",{children:(0,v.jsx)("h4",{children:"No reviews"})})})})}}]),n}(o.Component),j=(0,h.Z)(x),Z=n(249),g=n(984),b=function(e){(0,s.Z)(n,e);var t=(0,c.Z)(n);function n(){var e;(0,a.Z)(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).state={poster_path:null,title:null,release_date:null,vote_average:null,overview:null,genres:null},e.return=function(){(0,e.props.router.navigate)(-1)},e}return(0,i.Z)(n,[{key:"componentDidMount",value:function(){var e=this;d.Z.fetchDetailsMovie(this.props.router.params.movieId).then((function(t){return e.setState((0,r.Z)({},t))}))}},{key:"render",value:function(){var e=this.state,t=e.poster_path,n=e.title,r=e.release_date,a=e.vote_average,i=e.overview,s=e.genres;return(0,v.jsx)(v.Fragment,{children:null!==this.state.poster_path&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{className:"movieDetails",children:[(0,v.jsx)("button",{type:"button",onClick:this.return,children:"Go back"}),(0,v.jsxs)("ul",{children:[(0,v.jsx)("img",{src:"https://image.tmdb.org/t/p/original".concat(t),alt:n}),(0,v.jsxs)("li",{children:[(0,v.jsx)("h3",{children:n})," ",(0,v.jsx)("p",{children:r}),(0,v.jsx)("h3",{children:"User Score:"})," ",(0,v.jsxs)("p",{children:[a,"/10"]}),(0,v.jsx)("h3",{children:"Overview:"})," ",(0,v.jsx)("p",{children:i})]})]}),(0,v.jsxs)("ul",{children:[(0,v.jsx)("h3",{children:"Genres:"}),s?s.map((function(e){return(0,v.jsx)("li",{children:e.name},(0,g.x0)())})):(0,v.jsx)("h4",{children:"This movie has no genre"})]}),(0,v.jsx)("h2",{children:"Additional info"}),(0,v.jsxs)("div",{className:"additional",children:[(0,v.jsx)(l.OL,{to:"".concat("cast"),className:"additional__link",children:"Cast"}),(0,v.jsx)(l.OL,{to:"".concat("reviews"),className:"additional__link",children:"Reviews"})]})]}),(0,v.jsxs)(u.Z5,{children:[(0,v.jsx)(u.AW,{path:Z.Z.cast,element:(0,v.jsx)(m,{})}),(0,v.jsx)(u.AW,{path:Z.Z.rev,element:(0,v.jsx)(j,{})})]})]})})}}]),n}(o.Component),k=(0,h.Z)(b)}}]);
//# sourceMappingURL=details-page.f61ba75b.chunk.js.map