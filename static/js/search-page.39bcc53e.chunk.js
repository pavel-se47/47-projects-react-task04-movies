"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[855],{75:function(e,t,r){var n=r(263);n.Z.defaults.baseURL="https://api.themoviedb.org/3",t.Z={fetchTrendingMovies:function(){return n.Z.get("/trending/all/day?api_key=f62fd78ab53293f9591bba159f0c9694").then((function(e){return e.data.results}))},fetchSearchMovies:function(e){var t=e.searchQuery,r=void 0===t?"":t,a=e.currentPage,c=void 0===a?1:a;return n.Z.get("/search/multi?api_key=f62fd78ab53293f9591bba159f0c9694&page=".concat(c,"&query=").concat(r)).then((function(e){return e.data.results}))},fetchDetailsMovie:function(e){return n.Z.get("/movie/".concat(e,"?api_key=f62fd78ab53293f9591bba159f0c9694")).then((function(e){return e.data}))},fetchCastMovie:function(e){return n.Z.get("/movie/".concat(e,"/credits?api_key=f62fd78ab53293f9591bba159f0c9694")).then((function(e){return e.data.cast}))},fetchReviewsMovie:function(e){return n.Z.get("/movie/".concat(e,"/reviews?api_key=f62fd78ab53293f9591bba159f0c9694")).then((function(e){return e.data.results}))}}},235:function(e,t,r){var n=r(683),a=(r(791),r(689)),c=r(184);t.Z=function(e){return function(t){var r=(0,a.TH)(),s=(0,a.s0)(),i=(0,a.UO)();return(0,c.jsx)(e,(0,n.Z)((0,n.Z)({},t),{},{router:{location:r,navigate:s,params:i}}))}}},590:function(e,t,r){r.r(t);var n=r(433),a=r(671),c=r(144),s=r(136),i=r(104),u=r(791),o=r(87),h=r(368),f=r(75),l=r(235),v=r(984),d=r(184),m=(0,h.lX)(),p=function(e){(0,s.Z)(r,e);var t=(0,i.Z)(r);function r(){var e;(0,a.Z)(this,r);for(var c=arguments.length,s=new Array(c),i=0;i<c;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={searchQuery:"",currentPage:1,searchMovies:[]},e.pushHistory=function(){m.push({pathname:"/movies",search:"?query=".concat(e.state.searchQuery)},{some:e.state})},e.fetchQuery=function(){var t=e.state,r={searchQuery:t.searchQuery,currentPage:t.currentPage};f.Z.fetchSearchMovies(r).then((function(t){e.setState((function(e){return{searchMovies:[].concat((0,n.Z)(e.searchMovies),(0,n.Z)(t)),currentPage:e.currentPage+1}}))})).catch((function(e){return console.log(e)}))},e.inputChange=function(t){e.setState({searchQuery:t.currentTarget.value})},e.formSubmit=function(t){t.preventDefault(),e.setState({currentPage:1,searchMovies:[]}),e.fetchQuery()},e}return(0,c.Z)(r,[{key:"componentDidMount",value:function(){var e,t,r=m.location.state;(0===this.state.searchMovies||null!==(e=m.location)&&void 0!==e&&null!==(t=e.state)&&void 0!==t&&t.some)&&this.setState({searchQuery:r.some.searchQuery,currentPage:r.some.currentPage,searchMovies:r.some.searchMovies})}},{key:"render",value:function(){var e=this.state,t=e.searchMovies,r=e.searchQuery;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("form",{onSubmit:this.formSubmit,children:[(0,d.jsx)("h1",{children:"Search films or Serial"}),(0,d.jsx)("input",{type:"text",name:"name",value:r,placeholder:"Batman",required:!0,onChange:this.inputChange}),(0,d.jsx)("button",{type:"submit",children:"Search"})]}),t.length>0&&(0,d.jsxs)("ul",{className:"searchResult",children:[(0,d.jsx)("h2",{children:"Searching results"}),t.map((function(e){return(0,d.jsx)("li",{children:(0,d.jsx)(o.OL,{to:{pathname:"".concat(e.id)},children:(0,d.jsx)("span",{children:e.title||e.name})})},e.id)})),(0,d.jsx)("button",{type:"button",onClick:this.fetchQuery,children:"Load more"})]},(0,v.x0)()),t.length>0&&this.pushHistory()]})}}]),r}(u.Component);t.default=(0,l.Z)(p)}}]);
//# sourceMappingURL=search-page.39bcc53e.chunk.js.map